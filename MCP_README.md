# ì‚¬ì£¼ MCP ì„œë²„ (TBOO Engine)

í•œêµ­ ì „í†µ ì‚¬ì£¼ëª…ë¦¬í•™ì„ ê¸°ë°˜ìœ¼ë¡œ ì‚¬ì£¼ë¥¼ ë¶„ì„í•˜ê³  AI í•´ì„ì„ ì œê³µí•˜ëŠ” Model Context Protocol (MCP) ì„œë²„ì…ë‹ˆë‹¤.

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

- ğŸ”® **ì •í™•í•œ ì‚¬ì£¼ ê³„ì‚°**: ë§Œì„¸ë ¥ ê¸°ë°˜ ì‚¬ì£¼íŒ”ì(ë…„ì›”ì¼ì‹œ ê°„ì§€) ê³„ì‚°
- ğŸ¯ **ì‹­ì‹ Â·12ìš´ì„± ë¶„ì„**: ê° ê¸°ë‘¥ë³„ ì‹­ì‹ ê³¼ 12ìš´ì„± ë¶„ì„
- ğŸŒŠ **ëŒ€ìš´ ê³„ì‚°**: ì—°í•´ìí‰ ë°©ì‹ì˜ ëŒ€ìš´ ê³„ì‚°
- ğŸ¤– **AI í•´ì„**: OpenAI GPT-4ë¥¼ í™œìš©í•œ ìƒì„¸í•œ ì‚¬ì£¼ í’€ì´
- â° **ì‹œì£¼ ë¯¸ìƒ ì§€ì›**: ì¶œìƒ ì‹œê°„ì„ ëª¨ë¥´ëŠ” ê²½ìš°ì—ë„ ë¶„ì„ ê°€ëŠ¥
- ğŸ“… **2026ë…„ ìš´ì„¸**: ë³‘ì˜¤ë…„ ì¬ë¬¼ìš´, ì—°ì• ìš´, ì§ì—…ìš´ ë¶„ì„

## ğŸš€ ì„¤ì¹˜ ë° ì„¤ì •

### 1. íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
npm install
```

### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

`.env` íŒŒì¼ì„ ìƒì„±í•˜ê³  OpenAI API í‚¤ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤:

```bash
cp .env.example .env
```

`.env` íŒŒì¼ í¸ì§‘:

```
OPENAI_API_KEY=your_openai_api_key_here
```

### 3. ë¹Œë“œ

```bash
npm run build
```

## ğŸ§ª ë¡œì»¬ í…ŒìŠ¤íŠ¸

```bash
# í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
npm run test

# MCP ì„œë²„ ê°œë°œ ëª¨ë“œ ì‹¤í–‰
npm run dev
```

## ğŸ“¡ MCP ì„œë²„ ì‚¬ìš©ë²•

### Claude Desktop ì„¤ì •

`claude_desktop_config.json` íŒŒì¼ì— ë‹¤ìŒì„ ì¶”ê°€:

```json
{
  "mcpServers": {
    "tboo-saju": {
      "command": "node",
      "args": ["/path/to/tboo-engine/dist/index.js"],
      "env": {
        "OPENAI_API_KEY": "your_openai_api_key_here"
      }
    }
  }
}
```

### ì‚¬ìš© ê°€ëŠ¥í•œ ë„êµ¬

#### 1. `analyze_saju` - ìƒì„¸ ì‚¬ì£¼ ë¶„ì„

ìƒë…„ì›”ì¼ì‹œë¥¼ ì…ë ¥ë°›ì•„ ì‚¬ì£¼ë¥¼ ë¶„ì„í•˜ê³  AI í•´ì„ì„ ì œê³µí•©ë‹ˆë‹¤.

**íŒŒë¼ë¯¸í„°:**
- `name` (string): ì´ë¦„
- `year` (number): ì¶œìƒ ì—°ë„ (ì–‘ë ¥)
- `month` (number): ì¶œìƒ ì›” (ì–‘ë ¥, 1-12)
- `day` (number): ì¶œìƒ ì¼ (ì–‘ë ¥, 1-31)
- `hour` (number|null): ì¶œìƒ ì‹œê°„ (0-23), ëª¨ë¥´ëŠ” ê²½ìš° null
- `minute` (number|null): ì¶œìƒ ë¶„ (0-59), ëª¨ë¥´ëŠ” ê²½ìš° null
- `gender` (number): ì„±ë³„ (1: ë‚¨ì„±, 2: ì—¬ì„±)
- `detailed` (boolean): AI ìƒì„¸ í•´ì„ í¬í•¨ ì—¬ë¶€ (ê¸°ë³¸: true)

**ì˜ˆì‹œ:**
```json
{
  "name": "í™ê¸¸ë™",
  "year": 1990,
  "month": 5,
  "day": 15,
  "hour": 14,
  "minute": 30,
  "gender": 1,
  "detailed": true
}
```

#### 2. `get_saju_pillars` - ì‚¬ì£¼íŒ”ì ì¡°íšŒ

ìƒë…„ì›”ì¼ì‹œì˜ ì‚¬ì£¼ ê°„ì§€ë§Œ ë¹ ë¥´ê²Œ ì¡°íšŒí•©ë‹ˆë‹¤.

**íŒŒë¼ë¯¸í„°:**
- `year` (number): ì¶œìƒ ì—°ë„ (ì–‘ë ¥)
- `month` (number): ì¶œìƒ ì›” (ì–‘ë ¥, 1-12)
- `day` (number): ì¶œìƒ ì¼ (ì–‘ë ¥, 1-31)
- `hour` (number|null): ì¶œìƒ ì‹œê°„ (0-23), ëª¨ë¥´ëŠ” ê²½ìš° null
- `minute` (number|null): ì¶œìƒ ë¶„ (0-59), ëª¨ë¥´ëŠ” ê²½ìš° null
- `gender` (number): ì„±ë³„ (1: ë‚¨ì„±, 2: ì—¬ì„±)

## ğŸŒ Vercel ë°°í¬

### 1. Vercel í”„ë¡œì íŠ¸ ìƒì„±

```bash
# Vercel CLI ì„¤ì¹˜ (ì „ì—­)
npm install -g vercel

# í”„ë¡œì íŠ¸ ë°°í¬
vercel
```

### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

Vercel ëŒ€ì‹œë³´ë“œì—ì„œ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •:

- `OPENAI_API_KEY`: OpenAI API í‚¤

ë˜ëŠ” CLIë¡œ ì„¤ì •:

```bash
vercel env add OPENAI_API_KEY
```

### 3. API ì—”ë“œí¬ì¸íŠ¸ ì‚¬ìš©

ë°°í¬ í›„ API ì—”ë“œí¬ì¸íŠ¸:

```
POST https://your-project.vercel.app/api/saju
```

**ìš”ì²­ ì˜ˆì‹œ:**

```bash
curl -X POST https://your-project.vercel.app/api/saju \
  -H "Content-Type: application/json" \
  -d '{
    "name": "í™ê¸¸ë™",
    "year": 1990,
    "month": 5,
    "day": 15,
    "hour": 14,
    "minute": 30,
    "gender": 1,
    "detailed": true
  }'
```

**ì‘ë‹µ ì˜ˆì‹œ:**

```json
{
  "success": true,
  "data": {
    "saju": {
      "year": "åºšåˆ",
      "month": "è¾›å·³",
      "day": "å·±å¯",
      "hour": "è¾›æœª",
      "dayGan": "å·±"
    },
    "pillars": { ... },
    "daeun": [ ... ],
    "interpretation": "..."
  }
}
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
tboo-engine/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ engine/
â”‚   â”‚   â”œâ”€â”€ constants.ts       # ì‹­ì‹ , 12ìš´ì„± ìƒìˆ˜
â”‚   â”‚   â”œâ”€â”€ timeUtils.ts       # ì‹œê°„ ê³„ì‚° ìœ í‹¸
â”‚   â”‚   â”œâ”€â”€ daeun.ts          # ëŒ€ìš´ ê³„ì‚°
â”‚   â”‚   â”œâ”€â”€ manselyeogLoader.ts # ë§Œì„¸ë ¥ ë¡œë”
â”‚   â”‚   â””â”€â”€ sajuCore.ts       # ì‚¬ì£¼ ê³„ì‚° ë©”ì¸ ì—”ì§„
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ openaiService.ts  # OpenAI í•´ì„ ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ index.ts              # MCP ì„œë²„ ì§„ì…ì 
â”‚   â””â”€â”€ test.ts               # í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ api/
â”‚   â””â”€â”€ saju.ts               # Vercel Serverless Function
â”œâ”€â”€ calculation_engine/
â”‚   â””â”€â”€ data/
â”‚       â”œâ”€â”€ manselyeog_1900.csv        # ë§Œì„¸ë ¥ ë°ì´í„°
â”‚       â””â”€â”€ solar_terms_1900_2050.json # ì ˆê¸° ë°ì´í„°
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ vercel.json
â””â”€â”€ README.md
```

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ

- **Runtime**: Node.js
- **Language**: TypeScript
- **MCP SDK**: @modelcontextprotocol/sdk
- **AI**: OpenAI GPT-4
- **Deployment**: Vercel Serverless Functions
- **Data**: CSV (ë§Œì„¸ë ¥), JSON (ì ˆê¸°)

## ğŸ“Š ë°ì´í„° ì†ŒìŠ¤

- **ë§Œì„¸ë ¥**: 1900ë…„ë¶€í„°ì˜ ì–‘ë ¥-ìŒë ¥ ë³€í™˜ ë° ê°„ì§€ ì •ë³´
- **ì ˆê¸°**: 1900-2050ë…„ 24ì ˆê¸° ì •ë³´
- **ì‹­ì‹ **: ì¼ê°„ ê¸°ì¤€ ì²œê°„ ê´€ê³„ ë¶„ì„
- **12ìš´ì„±**: ì²œê°„-ì§€ì§€ ì¡°í•©ë³„ ìš´ì„¸ ìƒíƒœ

## ğŸ¤ ê¸°ì—¬

ì´ìŠˆì™€ PRì„ í™˜ì˜í•©ë‹ˆë‹¤!

## ğŸ“„ ë¼ì´ì„ ìŠ¤

MIT License

## âš ï¸ ì£¼ì˜ì‚¬í•­

- OpenAI API ì‚¬ìš©ì— ë”°ë¥¸ ë¹„ìš©ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- ë§Œì„¸ë ¥ ë°ì´í„°ëŠ” 1900ë…„ ì´í›„ë§Œ ì§€ì›í•©ë‹ˆë‹¤
- ì‚¬ì£¼ í•´ì„ì€ ì°¸ê³ ìš©ì´ë©°, ì „ë¬¸ê°€ ìƒë‹´ì„ ê¶Œì¥í•©ë‹ˆë‹¤

## ğŸ“ ë¬¸ì˜

í”„ë¡œì íŠ¸ ì´ìŠˆ í˜ì´ì§€ë¥¼ í†µí•´ ë¬¸ì˜í•´ì£¼ì„¸ìš”.
